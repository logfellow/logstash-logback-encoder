<configuration debug="true">

    <appender name="APPENDER" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
            <providers>
                <timestamp/>
            </providers>
            <jsonGeneratorDecorator class="net.logstash.logback.decorate.mask.MaskingJsonGeneratorDecorator">
                <path>fieldA</path>
                <path>fieldB</path>
                <pathMask>
                    <path>fieldC</path>
                    <mask>[masked]</mask>
                </pathMask>
                <fieldMasker class="net.logstash.logback.decorate.mask.MaskingJsonGeneratorDecoratorTest$TestFieldMasker"/>

                <value>^valueX$</value>
                <value>^valueY$</value>
                <valueMask>
                    <value>^(value-).*$</value>
                    <mask>$1masked</mask>
                </valueMask>
                <valueMasker class="net.logstash.logback.decorate.mask.MaskingJsonGeneratorDecoratorTest$TestValueMasker"/>
            </jsonGeneratorDecorator>
        </encoder>
    </appender>

    <root>
        <appender-ref ref="APPENDER" />
    </root>

</configuration>